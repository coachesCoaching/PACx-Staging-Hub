<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>PACx • App (Staging)</title>
  <meta name="description" content="PACx staging demo — desktop flow"/>
  <style>
    :root{ --bg:#0f1223; --panel:#161a2e; --text:#eaf0ff; --sub:#a8b1d1; --mint:#56f3a6; --accent:#37b9f1; --btn:#3be281; --btnText:#02100a; --field:#0f1223; --border:#2a2f4a; }
    *{ box-sizing:border-box }
    body{ margin:0; font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif; background:var(--bg); color:var(--text) }
    .wrap{ max-width:920px; margin:0 auto; padding:32px 20px 80px }
    .bar{ display:flex; align-items:center; gap:16px; margin-bottom:18px }
    .chip{ background:var(--panel); border:1px solid var(--border); border-radius:12px; padding:10px 14px; display:flex; align-items:center; gap:8px; font-weight:600 }
    .prog{ flex:1; background:var(--panel); border:1px solid var(--border); border-radius:12px; padding:10px 14px; display:flex; align-items:center; gap:10px }
    .p-outer{ height:8px; background:#0b0e1b; border-radius:6px; width:100% }
    .h1{ font-size:28px; color:var(--mint); margin:12px 0 16px; font-weight:900 }
    .card{ background:var(--panel); border:1px solid var(--border); border-radius:16px; padding:20px; margin-top:8px }
    .title{ font-size:22px; font-weight:800 }
    .sub{ color:var(--sub) }
    .lbl{ display:block; color:var(--sub); margin:10px 0 8px; font-size:13px }
    .select,.num{ width:100%; background:var(--field); color:var(--text); border:1px solid var(--border); border-radius:12px; padding:12px 14px; font-size:14px; outline:none }
    .row2{ display:grid; gap:12px; grid-template-columns:1fr 1fr }
    .btns{ display:flex; gap:12px; margin-top:16px }
    .btn{ background:var(--btn); color:var(--btnText); font-weight:800; padding:12px 16px; border-radius:12px; border:none; cursor:pointer }
    .ghost{ background:transparent; color:var(--text); border:1px solid var(--border) }
    .lead-grid{ display:grid; gap:10px; margin-top:12px }
    .lead-row{ display:grid; grid-template-columns:1.2fr .8fr .8fr; gap:10px; align-items:center }
    a{ color:inherit; text-decoration:none }
  </style>

  <!-- React 18 UMD -->
  <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
</head>
<body>
  <div class="wrap">
    <div class="bar">
      <div class="chip"><span style="width:24px;height:24px;border-radius:12px;background:var(--accent);display:inline-block"></span> Player</div>
      <div class="chip"><span style="width:10px;height:18px;background:var(--mint);display:inline-block;border-radius:2px"></span><span id="coins">240</span></div>
      <div class="prog" aria-label="Lag Progress">
        <span style="font-weight:700;color:var(--sub);white-space:nowrap">Lag Progress</span>
        <div class="p-outer"><div id="pbar" style="height:8px;width:0;background:var(--mint);border-radius:6px;transition:width 240ms ease"></div></div>
        <span id="ppct" style="font-weight:700;color:var(--sub)">0%</span>
      </div>
    </div>

    <div id="root"></div>
  </div>

  <script type="module">
    const {useState,useMemo} = React;

    const LEVEL_MULTIPLIER = { Beginner:1.0, Intermediate:1.3, Advanced:1.6 };

    const LAG_BY_INDUSTRY = {
      "Financial Services":[
        {lag:"New AUM ($)",leads:[
          {key:"Intro Meetings",label:"Intro Meetings",suggestedMinWeekly:3},
          {key:"Discovery Calls",label:"Discovery Calls",suggestedMinWeekly:2},
          {key:"Proposals Sent",label:"Proposals Sent",suggestedMinWeekly:1},
          {key:"Follow-ups",label:"Follow-ups",suggestedMinWeekly:8},
          {key:"Referrals Asked",label:"Referrals Asked",suggestedMinWeekly:3},
        ]},
        {lag:"New Clients (#)",leads:[
          {key:"Intro Meetings",label:"Intro Meetings",suggestedMinWeekly:4},
          {key:"Discovery Calls",label:"Discovery Calls",suggestedMinWeekly:3},
          {key:"Proposals Sent",label:"Proposals Sent",suggestedMinWeekly:2},
          {key:"Follow-ups",label:"Follow-ups",suggestedMinWeekly:10},
          {key:"Referrals Asked",label:"Referrals Asked",suggestedMinWeekly:3},
        ]},
      ],
      "Coaching / Consulting":[
        {lag:"Projects Won (#)",leads:[
          {key:"Discovery Calls",label:"Discovery Calls",suggestedMinWeekly:3},
          {key:"Proposals Sent",label:"Proposals Sent",suggestedMinWeekly:2},
          {key:"Follow-ups",label:"Follow-ups",suggestedMinWeekly:10},
          {key:"Referrals Asked",label:"Referrals Asked",suggestedMinWeekly:2},
          {key:"Demos Scheduled",label:"Demos Scheduled",suggestedMinWeekly:1},
        ]},
        {lag:"Revenue ($)",leads:[
          {key:"Intro Meetings",label:"Intro Meetings",suggestedMinWeekly:4},
          {key:"Discovery Calls",label:"Discovery Calls",suggestedMinWeekly:3},
          {key:"Proposals Sent",label:"Proposals Sent",suggestedMinWeekly:2},
          {key:"Follow-ups",label:"Follow-ups",suggestedMinWeekly:8},
        ]},
      ],
      "Real Estate":[
        {lag:"New Clients (#)",leads:[
          {key:"Intro Meetings",label:"Intro Meetings",suggestedMinWeekly:5},
          {key:"Discovery Calls",label:"Discovery Calls",suggestedMinWeekly:3},
          {key:"Follow-ups",label:"Follow-ups",suggestedMinWeekly:12},
          {key:"Referrals Asked",label:"Referrals Asked",suggestedMinWeekly:2},
        ]},
      ],
      "Technology / Other":[
        {lag:"Revenue ($)",leads:[
          {key:"Intro Meetings",label:"Intro Meetings",suggestedMinWeekly:3},
          {key:"Discovery Calls",label:"Discovery Calls",suggestedMinWeekly:2},
          {key:"Demos Scheduled",label:"Demos Scheduled",suggestedMinWeekly:2},
          {key:"Follow-ups",label:"Follow-ups",suggestedMinWeekly:8},
        ]},
      ],
    };

    const pct = n => Math.max(0, Math.min(100, Math.round(n)));

    function App(){
      const [step,setStep] = useState(1);
      const [coins,setCoins] = useState(240);
      const [level,setLevel] = useState('');
      const [industry,setIndustry] = useState('');
      const [lag,setLag] = useState('');
      const [targetValue,setTargetValue] = useState('');
      const [leads,setLeads] = useState({"Intro Meetings":0,"Discovery Calls":0,"Proposals Sent":0,"Follow-ups":0,"Referrals Asked":0,"Demos Scheduled":0});

      const progress = pct((step-1)*(100/6));
      // paint progress
      requestAnimationFrame(()=> {
        document.getElementById('pbar').style.width = progress + '%';
        document.getElementById('ppct').textContent = progress + '%';
        document.getElementById('coins').textContent = coins;
      });

      const lagOptions = useMemo(()=> industry ? LAG_BY_INDUSTRY[industry] : [], [industry]);
      const leadOptions = useMemo(()=>{
        if(!industry||!lag||!level) return [];
        const cfg = LAG_BY_INDUSTRY[industry].find(c=>c.lag===lag);
        if(!cfg) return [];
        const mult = level?LEVEL_MULTIPLIER[level]:1;
        return cfg.leads.map(l=>({...l, suggestedMinWeekly:Math.ceil(l.suggestedMinWeekly*mult)}));
      },[industry,lag,level]);

      const leadsLocked = !industry || !lag || !level;
      const updateLead = (k,v)=> setLeads(p=>({...p, [k]:Math.max(0,Number(v)||0)}));
      const resetFrom = (from)=>{
        if(from==='industry'){ setLag(''); setTargetValue(''); setLeads({"Intro Meetings":0,"Discovery Calls":0,"Proposals Sent":0,"Follow-ups":0,"Referrals Asked":0,"Demos Scheduled":0}); }
        if(from==='lag'){ setTargetValue(''); setLeads({"Intro Meetings":0,"Discovery Calls":0,"Proposals Sent":0,"Follow-ups":0,"Referrals Asked":0,"Demos Scheduled":0}); }
      };

      return React.createElement(React.Fragment,null,
        React.createElement('div',{className:'h1'}, step===1?"01 Intro":step===2?"02 Level":step===3?"03 Industry":step===4?"04 Lag Goal — SMART Lag":step===5?"05 Weekly Leads":"06 Summary"),

        step===1 && React.createElement('section',{className:'card'},
          React.createElement('div',{className:'title'},"What time is it?"),
          React.createElement('div',{style:{fontSize:36,fontWeight:900,color:'var(--mint)',marginTop:8}},"GAME TIME!"),
          React.createElement('p',{className:'sub',style:{marginTop:6,fontSize:16}},"Are you ready to play?"),
          React.createElement('div',{className:'btns'}, React.createElement('button',{className:'btn',onClick:()=>setStep(2)},"Let’s Go")),
          React.createElement('div',{className:'sub',style:{marginTop:8}},"KISS: Keep It Super Simple")
        ),

        step===2 && React.createElement('section',{className:'card'},
          React.createElement('div',{className:'title'},"Choose your Level of Play"),
          React.createElement('p',{className:'sub',style:{marginTop:4}},"Beginner — Simple start, fast momentum. Intermediate — Balanced challenge. Advanced — Go big."),
          React.createElement('div',{className:'row2',style:{marginTop:12}},
            ["Beginner","Intermediate","Advanced"].map(lvl =>
              React.createElement('button',{key:lvl,className:['btn', level===lvl?'':'ghost'].join(' '),onClick:()=>{setLevel(lvl); setCoins(c=>c+10);} }, lvl)
            )
          ),
          React.createElement('div',{className:'btns'},
            React.createElement('button',{className:'btn ghost',onClick:()=>setStep(1)},"Back"),
            React.createElement('button',{className:'btn',onClick:()=>setStep(3),disabled:!level,"aria-disabled":!level},"Continue")
          )
        ),

        step===3 && React.createElement('section',{className:'card'},
          React.createElement('div',{className:'title'},"Select your Industry"),
          React.createElement('div',{className:'sub',style:{marginTop:4}},"Awareness step — Lag comes next."),
          React.createElement('label',{className:'lbl'},"Industry"),
          React.createElement('select',{className:'select',value:industry,onChange:e=>{setIndustry(e.target.value); resetFrom('industry');}},
            React.createElement('option',{value:''},"Choose…"),
            ["Financial Services","Coaching / Consulting","Real Estate","Technology / Other"].map(ind=>React.createElement('option',{key:ind,value:ind},ind))
          ),
          React.createElement('div',{className:'btns'},
            React.createElement('button',{className:'btn ghost',onClick:()=>setStep(2)},"Back"),
            React.createElement('button',{className:'btn',onClick:()=>setStep(4),disabled:!industry,"aria-disabled":!industry},"Continue")
          )
        ),

        step===4 && React.createElement('section',{className:'card'},
          React.createElement('div',{className:'title'},"Set your Lag Goal — SMART Lag"),
          React.createElement('p',{className:'sub',style:{marginTop:4}},"Suggested: 35% above your run rate (based on Advanced). Adjust with your coach."),
          React.createElement('div',{style:{marginTop:12}},
            React.createElement('label',{className:'lbl'},"Lag Goal Type (from ",industry||"…",")"),
            React.createElement('select',{className:'select',value:lag,onChange:e=>{setLag(e.target.value); resetFrom('lag');}},
              React.createElement('option',{value:''},"Choose Lag…"),
              lagOptions.map(opt=>React.createElement('option',{key:opt.lag,value:opt.lag},opt.lag))
            )
          ),
          React.createElement('div',{style:{marginTop:12}},
            React.createElement('label',{className:'lbl'},"Time Period"),
            React.createElement('select',{className:'select',defaultValue:'12'},
              React.createElement('option',{value:'3'},"3 Months"),
              React.createElement('option',{value:'6'},"6 Months"),
              React.createElement('option',{value:'12'},"12 Months")
            )
          ),
          React.createElement('div',{style:{marginTop:12}},
            React.createElement('label',{className:'lbl'},"Target Value"),
            React.createElement('input',{className:'num',placeholder: lag.includes('$') ? '$1,000,000' : 'e.g., 25',value:targetValue,onChange:e=>setTargetValue(e.target.value)})
          ),
          React.createElement('div',{className:'btns'},
            React.createElement('button',{className:'btn ghost',onClick:()=>setStep(3)},"Back"),
            React.createElement('button',{className:'btn',onClick:()=>setStep(5),disabled:(!lag||!targetValue),"aria-disabled":(!lag||!targetValue)},"Continue")
          )
        ),

        step===5 && React.createElement('section',{className:'card'},
          React.createElement('div',{className:'title'},"Set your Weekly Leads"),
          React.createElement('p',{className:'sub',style:{marginTop:4}},"Lead indicators are unlocked from your Industry, Lag, and Level of Play."),
          (!industry||!lag||!level)
            ? React.createElement('div',{style:{marginTop:10,padding:12,borderRadius:12,border:'1px dashed var(--border)',color:'var(--sub)'}}, "Choose your Level, Industry, and Lag first to unlock leads.")
            : React.createElement('div',{className:'lead-grid'},
                (function(){
                  const cfg=LAG_BY_INDUSTRY[industry].find(c=>c.lag===lag);
                  const mult=level?LEVEL_MULTIPLIER[level]:1;
                  return cfg.leads.map(opt=>{
                    const suggested=Math.ceil(opt.suggestedMinWeekly*mult);
                    return React.createElement('div',{key:opt.key,className:'lead-row'},
                      React.createElement('div',{style:{fontWeight:700}},opt.label),
                      React.createElement('div',{className:'sub',style:{fontSize:13}},"Suggested: ",suggested,"/wk"),
                      React.createElement('input',{type:'number',min:'0',className:'num',
                        value:String((leads[opt.key]||0)),
                        onChange:e=>updateLead(opt.key,e.target.value)})
                    );
                  });
                })()
              ),
          React.createElement('div',{className:'btns'},
            React.createElement('button',{className:'btn ghost',onClick:()=>setStep(4)},"Back"),
            React.createElement('button',{className:'btn',onClick:()=>{ setCoins(c=>c+25); setStep(6); }, disabled:(!industry||!lag||!level), "aria-disabled":(!industry||!lag||!level)}, "Continue")
          )
        ),

        step===6 && React.createElement('section',{className:'card'},
          React.createElement('div',{className:'title'},"Summary — Let the Games Begin… Rock On! (PACx)"),
          React.createElement('div',{style:{marginTop:12,display:'grid',gap:'12px'}},
            React.createElement('div',null, React.createElement('div',{className:'lbl'},"Level of Play"), level ),
            React.createElement('div',null, React.createElement('div',{className:'lbl'},"Industry"), industry ),
            React.createElement('div',null, React.createElement('div',{className:'lbl'},"Lag Goal"), lag," — Target: ", React.createElement('strong',null, targetValue||'—') ),
            React.createElement('div',null,
              React.createElement('div',{className:'lbl'},"Weekly Leads"),
              React.createElement('div',{style:{display:'grid',gap:'6px'}},
                (function(){
                  if(!industry||!lag) return null;
                  const cfg=LAG_BY_INDUSTRY[industry].find(c=>c.lag===lag);
                  const mult=level?LEVEL_MULTIPLIER[level]:1;
                  return cfg.leads.map(opt =>
                    React.createElement('div',{key:opt.key,style:{display:'flex',gap:'10px'}},
                      React.createElement('div',{style:{width:'220px'}}, opt.label),
                      React.createElement('div',{className:'sub'},"Suggested ",Math.ceil(opt.suggestedMinWeekly*mult),"/wk"),
                      React.createElement('div',null, "→ You set: ", (leads[opt.key]||0), "/wk")
                    )
                  );
                })()
              )
            )
          ),
          React.createElement('div',{className:'btns'},
            React.createElement('button',{className:'btn ghost',onClick:()=>setStep(5)},"Back"),
            React.createElement('button',{className:'btn',onClick:()=>alert('Saved. Playing the Game starts now — Achievement stage!')},"Save & Play the Game")
          )
        )
      );
    }

    ReactDOM.createRoot(document.getElementById('root')).render(React.createElement(App));
  </script>

  <!-- PACx Feedback + Back -->
  <script>
    window.PACX_FEEDBACK_URL = 'https://docs.google.com/forms/d/e/REPLACE_ME/viewform?embedded=true';
    window.PACX_BACK_HREF = 'hub.html';
  </script>
  <script src="./pacx-feedback.js" defer></script>
</body>
</html>
